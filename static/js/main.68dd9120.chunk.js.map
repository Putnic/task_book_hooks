{"version":3,"sources":["components/LoginModal/LoginModal.module.css","components/Header/Header.module.css","components/FlashMessages/FlashMessage.module.css","components/CreateTask/CreateTask.module.css","components/CreateEditTask/CreateEditTask.module.css","components/Paginator/Paginator.module.css","components/TableView/TableView.module.css","components/TasksList/TasksList.module.css","store/actions/types.js","store/reducers/taskReducer.js","store/reducers/flashReducer.js","store/reducers/authReducer.js","store/reducers/index.js","store/store.js","api/api.js","store/actions/flashActions.js","store/actions/authAction.js","components/LoginModal/LoginModal.jsx","components/Header/Header.jsx","components/FlashMessages/FlashMessage.jsx","components/FlashMessages/FlashMessages.jsx","store/actions/taskActions.js","components/Paginator/Paginator.jsx","components/TableView/TableView.jsx","components/TasksList/TasksList.jsx","components/CreateTask/CreateTask.jsx","components/CreateEditTask/CreateEditTask.jsx","App.js","index.js"],"names":["module","exports","SORT_DIRECTION","asc","desc","initialState","tasks","total_task_count","loadedTasks","createdTask","editedTask","sorting","sort_field","sort_direction","_id","token","isAuthenticated","combineReducers","task","state","action","type","map","id","messages","message","msg","filter","auth","localStorage","setItem","tokenExpire","Date","now","Number","getItem","removeItem","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","instance","axios","create","baseURL","tasksAPI","currentPage","sortField","sortDirection","get","params","developer","page","then","response","data","getFormData","post","console","log","object","formData","FormData","Object","keys","forEach","key","append","addMessage","logOut","connect","logIn","credential","dispatch","status","timeExpire","setDate","getDate","getTime","warn","catch","error","props","useState","username","password","setData","modalShow","setModalShow","modal","useRef","useEffect","handleClose","handleKeyUp","e","27","preventDefault","keyCode","handleOutsideClick","target","current","removeEventListener","document","handleChange","name","value","Fragment","className","s","login","onClick","addEventListener","ref","noValidate","modal_content","animate","onSubmit","dataForm","close","title","htmlFor","placeholder","onChange","required","Header","header","to","logo","activeClassName","active","exact","FlashMessage","body","flashID","setTimeout","deleteMessage","field","i","closebtn","clearTimeout","Paginator","itemsCount","pageSize","portionSize","pagesCount","Math","ceil","leftNumber","rightNumber","pages","Array","fill","v","paginationButtons","pagination","hidden","p","TableView","setSort","useHistory","push","pathname","location","taskItems","click","done","onDoubleClick","handleClickTR","text","email","tagName","dataset","data-name","task_count","loadedTask","getTasks","getState","match","parseInt","createTask","event","checkValidity","classList","remove","invalid","add","container","pattern","editTask","history","prevText","replace","readOnly","from","length","path","component","TasksList","CreateTask","render","ReactDOM","basename","getElementById"],"mappings":"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","file":"static/js/main.68dd9120.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"LoginModal_modal__2-CSy\",\"modal_content\":\"LoginModal_modal_content__13j_A\",\"close\":\"LoginModal_close__131_1\",\"animate\":\"LoginModal_animate__JTtBJ\",\"animatezoom\":\"LoginModal_animatezoom__3QQhv\",\"login\":\"LoginModal_login__b_hAx\",\"cancelbtn\":\"LoginModal_cancelbtn__1KCR6\",\"container\":\"LoginModal_container__171Ks\",\"psw\":\"LoginModal_psw__1oUc0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__cGVBD\",\"logo\":\"Header_logo__1E5iF\",\"active\":\"Header_active__ftFdF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"FlashMessage_message__1txN0\",\"closebtn\":\"FlashMessage_closebtn__anaiA\",\"danger\":\"FlashMessage_danger__21mH-\",\"success\":\"FlashMessage_success__1fcLZ\",\"info\":\"FlashMessage_info__3ouBC\",\"warning\":\"FlashMessage_warning__1JksE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateTask_container__3xd35\",\"invalid\":\"CreateTask_invalid__3BvbH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateEditTask_container__2vm4q\",\"invalid\":\"CreateEditTask_invalid__2nBUa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__3MWdC\",\"active\":\"Paginator_active__2aL4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"done\":\"TableView_done__3q2mk\",\"click\":\"TableView_click__3-0_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tasks\":\"TasksList_tasks__3INKq\"};","// TASK\r\nexport const GET_TASKS = 'GET_TASKS';\r\nexport const TASKS_LOADING = 'TASKS_LOADING';\r\n\r\nexport const CREATE_TASK = 'CREATE_TASK';\r\nexport const TASK_CREATING = 'TASK_CREATING';\r\n\r\nexport const EDIT_TASK = 'EDIT_TASK';\r\nexport const TASK_EDITING = 'TASK_EDITING';\r\n\r\nexport const SET_SORTING = 'SET_SORTING';\r\n\r\n// MESSAGE\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\r\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\r\nexport const CLEAR_MESSAGES = 'CLEAR_MESSAGES';\r\n\r\n// Auth\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\r\n\r\n// Sort username email status, asc desc\r\nexport const SORT_FIELDS = {\r\n\temail: 'email',\r\n\tusername: 'username',\r\n\tstatus: 'status'\r\n};\r\nexport const SORT_DIRECTION = {\r\n\tasc: 'asc',\r\n\tdesc: 'desc'\r\n};\r\n","import {\r\n\tGET_TASKS,\r\n\tTASKS_LOADING,\r\n\tCREATE_TASK,\r\n\tTASK_CREATING,\r\n\tEDIT_TASK,\r\n\tTASK_EDITING,\r\n\tSET_SORTING\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\ttasks: [],\r\n\ttotal_task_count: 0,\r\n\tloadedTasks: false,\r\n\tcreatedTask: false,\r\n\teditedTask: false,\r\n\tsorting: {\r\n\t\tsort_field: null,\r\n\t\tsort_direction: null\r\n\t}\r\n};\r\n\r\nexport default function(state = initialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_TASKS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttasks: action.tasks,\r\n\t\t\t\ttotal_task_count: action.total_task_count,\r\n\t\t\t\tloadedTasks: true\r\n\t\t\t};\r\n\t\tcase TASKS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadedTasks: false\r\n\t\t\t};\r\n\t\tcase CREATE_TASK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttasks: [...state.tasks, action.task],\r\n\t\t\t\tcreatedTask: true\r\n\t\t\t};\r\n\t\tcase TASK_CREATING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcreatedTask: false\r\n\t\t\t};\r\n\t\tcase EDIT_TASK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttasks: [...state.tasks].map(task =>\r\n\t\t\t\t\ttask.id === action.id ? action.task : task\r\n\t\t\t\t),\r\n\t\t\t\teditedTask: true\r\n\t\t\t};\r\n\t\tcase TASK_EDITING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditedTask: false\r\n\t\t\t};\r\n\t\tcase SET_SORTING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsorting: {\r\n\t\t\t\t\tsort_field: action.sort_field,\r\n\t\t\t\t\tsort_direction: action.sort_direction\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { ADD_MESSAGE, DELETE_MESSAGE, CLEAR_MESSAGES } from '../actions/types';\r\n\r\nconst initialState = [];\r\nlet _id = 1;\r\nexport default function(state = initialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn [\r\n\t\t\t\t...state,\r\n\t\t\t\t{\r\n\t\t\t\tid: _id++,\r\n\t\t\t\ttype: action.message.type,\r\n\t\t\t\tmsg: action.message.msg,\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\tcase DELETE_MESSAGE:\r\n      return state.filter(msg => msg.id !== action.id);\r\n\t\tcase CLEAR_MESSAGES:\r\n\t\t\treturn [];\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT_SUCCESS } from '../actions/types';\r\n\r\nconst initialState = {\r\n\ttoken: null,\r\n\tisAuthenticated: false\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\tlocalStorage.setItem('token', action.token);\r\n\t\t\tlocalStorage.setItem('tokenExpire', action.tokenExpire);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: action.token,\r\n\t\t\t\tisAuthenticated:\r\n\t\t\t\t\tDate.now() < Number(localStorage.getItem('tokenExpire'))\r\n\t\t\t};\r\n\t\tcase LOGOUT_SUCCESS:\r\n\t\tcase LOGIN_FAIL:\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\tlocalStorage.removeItem('tokenExpire');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport taskReducer from './taskReducer';\r\nimport flashReducer from './flashReducer';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n\ttask: taskReducer,\r\n\tmessages: flashReducer,\r\n\tauth: authReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\n// const initialState = {};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n\trootReducer,\r\n\t// initialState,\r\n\tcomposeEnhancers(applyMiddleware(thunk))\r\n);\r\nwindow.store = store;\r\nexport default store;\r\n","import axios from \"axios\";\r\n\r\n// https://uxcandy.com/~shapoval/test-task-backend/v2\r\n// https://uxcandy.com/~shapoval/test-task-backend/v2/create?developer=Example\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://uxcandy.com/~shapoval/test-task-backend/v2/\"\r\n});\r\n\r\nexport const tasksAPI = {\r\n  getTasks(currentPage = 1, sortField = \"\", sortDirection = \"\") {\r\n    return instance\r\n      .get(\"/\", {\r\n        params: {\r\n          developer: \"Dmitry\",\r\n          page: currentPage,\r\n          sort_field: sortField,\r\n          sort_direction: sortDirection\r\n        }\r\n      })\r\n      .then(response => response.data);\r\n  },\r\n  addTask(task) {\r\n    let data = getFormData(task);\r\n\r\n    return instance\r\n      .post(\"/create\", data, {\r\n        params: {\r\n          developer: \"Dmitry\"\r\n        }\r\n      })\r\n      .then(response => response.data);\r\n  },\r\n  editTask(id, task) {\r\n    let data = getFormData(task);\r\n    console.log('editTask', task);\r\n    return instance\r\n      .post(`/edit/${id}`, data, {\r\n        params: {\r\n          developer: \"Dmitry\",\r\n        }\r\n      })\r\n      .then(response => response.data);\r\n  },\r\n  login(data) {\r\n    return instance\r\n      .post(\"/login\", data, {\r\n        params: {\r\n          developer: \"Dmitry\"\r\n        }\r\n      })\r\n      .then(response => response.data);\r\n  }\r\n};\r\n\r\n// Convert JS Object to form data\r\nfunction getFormData(object) {\r\n  const formData = new FormData();\r\n  Object.keys(object).forEach(key => formData.append(key, object[key]));\r\n  return formData;\r\n}","import { ADD_MESSAGE, DELETE_MESSAGE } from './types';\r\n\r\n// Add message\r\nexport const addMessage = message => {\r\n\treturn {\r\n\t\ttype: ADD_MESSAGE,\r\n\t\tmessage\r\n\t};\r\n};\r\n\r\n// Delete message\r\nexport const deleteMessage = id => {\r\n\treturn {\r\n\t\ttype: DELETE_MESSAGE,\r\n\t\tid\r\n\t};\r\n};\r\n","import { tasksAPI } from '../../api/api';\r\nimport { LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT_SUCCESS } from './types';\r\nimport { CLEAR_MESSAGES } from './types';\r\nimport { addMessage } from './flashActions';\r\n\r\nexport const logIn = credential => dispatch => {\r\n\t// dispatch({ type: CLEAR_MESSAGES });\r\n\r\n\ttasksAPI\r\n\t\t.login(credential)\r\n\t\t.then(data => {\r\n\t\t\tif (data.status === 'ok') {\r\n\t\t\t\t// Expire date of the token\r\n\t\t\t\tlet timeExpire = new Date();\r\n\t\t\t\ttimeExpire.setDate(timeExpire.getDate() + 1);\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\t\ttoken: data.message.token,\r\n\t\t\t\t\ttokenExpire: timeExpire.getTime()\r\n\t\t\t\t});\r\n\t\t\t\tdispatch(addMessage({ type: 'success', msg: 'Login success!' }));\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(data.message);\r\n\t\t\t\tdispatch({ type: LOGIN_FAIL });\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\taddMessage({ type: 'danger', msg: data.message })\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => console.warn(error, error.response));\r\n};\r\n\r\nexport const logOut = () => ({ type: LOGOUT_SUCCESS });\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport s from './LoginModal.module.css';\r\n\r\nimport { logIn, logOut } from '../../store/actions/authAction';\r\n\r\nfunction LoginModal(props) {\r\n\tconst { logIn, logOut, isAuthenticated } = props;\r\n\r\n\tlet [data, setData] = useState({\r\n\t\tusername: '',\r\n\t\tpassword: ''\r\n\t});\r\n\r\n\tlet [modalShow, setModalShow] = useState(false);\r\n\r\n\tconst modal = useRef(null);\r\n\t\t\r\n\t\tuseEffect(() => {\r\n\t\tif (isAuthenticated) {\r\n\t\t\tsetData({ username: '', password: '' });\r\n\t\t\thandleClose();\r\n\t\t}\r\n\t\t// eslint-disable-next-line\t\r\n\t}, [isAuthenticated]);\r\n\r\n\t// Handle the key press event on 'esc'.\r\n\tconst handleKeyUp = e => {\r\n\t\tconst keys = {\r\n\t\t\t27: () => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (keys[e.keyCode]) {\r\n\t\t\tkeys[e.keyCode]();\r\n\t\t}\r\n\t};\r\n\r\n\t// Handle the mouse click on browser window.\r\n\tconst handleOutsideClick = e => {\r\n\t\tif (e.target === modal.current) {\r\n\t\t\thandleClose();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpen = e => {\r\n\t\tsetModalShow(true);\r\n\t\twindow.addEventListener('keyup', handleKeyUp);\r\n\t\tdocument.addEventListener('click', handleOutsideClick);\r\n\t};\r\n\r\n\tconst handleClose = e => {\r\n\t\tsetModalShow(false);\r\n\t\twindow.removeEventListener('keyup', handleKeyUp);\r\n\t\tdocument.removeEventListener('click', handleOutsideClick);\r\n\t};\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetData({ ...data, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tlet dataForm = new FormData(e.target);\r\n\t\tlogIn(dataForm);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{/* Button to open the modal login form */}\r\n\t\t\t<button className={s.login}\r\n\t\t\t\tonClick={isAuthenticated ? logOut : handleOpen}>\r\n\t\t\t\t{isAuthenticated ? 'Logout' : 'Login'}\r\n\t\t\t</button>\r\n\r\n\t\t\t{/* The Modal */}\r\n\t\t\t{modalShow && (\r\n\t\t\t\t<section id='form-login_modal' className={s.modal}\r\n\t\t\t\t\tref={modal}\r\n\t\t\t\t\tonClick={handleOutsideClick}\r\n\t\t\t\t>\r\n\t\t\t\t\t<form id='login' noValidate\r\n\t\t\t\t\t\tclassName={`${s.modal_content} ${s.animate}`}\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t\t\t<span\tclassName={s.close}\ttitle='Close Modal'\tonClick={handleClose} >\r\n\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className='s.container'>\r\n\t\t\t\t\t\t\t<label htmlFor='username'>\r\n\t\t\t\t\t\t\t\t<b>Username</b>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='text' placeholder='Enter Username'\r\n\t\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tvalue={data.username}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<label htmlFor='password'>\r\n\t\t\t\t\t\t\t\t<b>Password</b>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='password' placeholder='Enter Password'\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button type='submit'>Login</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</section>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tisAuthenticated: state.auth.isAuthenticated,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { logIn, logOut })(LoginModal);\r\n","import React from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nimport LoginModal from '../LoginModal/LoginModal';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"shadow\">\r\n      <div className={`container ${s.header}`}>\r\n        <Link to=\"/\" className={s.logo}>Task_Book</Link>\r\n        <nav>\r\n          <NavLink activeClassName={s.active} exact to=\"/\">Home</NavLink>\r\n          <NavLink activeClassName={s.active} to=\"/create\">AddTask</NavLink>\r\n          <LoginModal />\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport s from './FlashMessage.module.css';\r\n\r\nfunction FlashMessage(props) {\r\n\t// type: danger, success, info, warning\r\n\tlet { id, type, msg } = props.message;\r\n\tlet body = null;\r\n\r\n\tconst flashID = setTimeout(() => {\r\n\t\tprops.deleteMessage(id);\r\n\t}, 5000);\r\n\r\n\tconst handleClick = () => {\r\n\t\tprops.deleteMessage(id);\r\n\t\tclearTimeout(flashID);\r\n\t};\r\n\r\n\tif (typeof msg === 'object') {\r\n\t\tbody = Object.keys(msg).map((field, i) => {\r\n\t\t\treturn (\r\n\t\t\t\t<p key={i}>\r\n\t\t\t\t\t{field}: {msg[field]}\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t});\r\n\t} else {\r\n\t\tbody = <p> {msg}</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className={s.message}>\r\n\t\t\t<div className={s[type]} >\r\n\t\t\t\t<span className={s.closebtn} onClick={handleClick}>\r\n\t\t\t\t\t&times;\r\n\t\t\t\t</span>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<strong>{type}!</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t\t\r\n\t);\r\n}\r\n\r\nexport default FlashMessage;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteMessage } from '../../store/actions/flashActions';\r\n\r\nimport FlashMessage from './FlashMessage';\r\n\r\nfunction FlashMessages(props) {\r\n\tconst { messages, deleteMessage } = props;\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{messages.map(msg =>\r\n\t\t\t\t<FlashMessage key={msg.id} message={msg} deleteMessage={deleteMessage} />\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tmessages: state.messages\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, {deleteMessage})(FlashMessages);\r\n","import {\r\n\tGET_TASKS,\r\n\tTASKS_LOADING,\r\n\tCREATE_TASK,\r\n\tTASK_CREATING,\r\n\tEDIT_TASK,\r\n\tTASK_EDITING,\r\n\tSET_SORTING,\r\n\tCLEAR_MESSAGES\r\n} from './types';\r\nimport { tasksAPI } from '../../api/api';\r\nimport { addMessage } from './flashActions';\r\n\r\n// TASK ACTIONS\r\n// Get Tasks\r\nexport const getTasks = (\r\n\tcurrentPage = 1,\r\n\tsortField = '',\r\n\tsortDirection = ''\r\n) => (dispatch, getState) => {\r\n\t// dispatch({ type: CLEAR_MESSAGES });\r\n\tdispatch({ type: TASKS_LOADING });\r\n\r\n\ttasksAPI\r\n\t\t.getTasks(currentPage, sortField, sortDirection)\r\n\t\t.then(data => {\r\n\t\t\tif (data.status === 'ok') {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_TASKS,\r\n\t\t\t\t\ttasks: data.message.tasks,\r\n\t\t\t\t\ttotal_task_count: data.message.total_task_count\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(data.message);\r\n\t\t\t\tdispatch(addMessage({ type: 'danger', msg: data.message }));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => console.warn(error, error.response));\r\n};\r\n\r\n// Tasks is loading and loaded\r\nexport const setTasksLoading = () => {\r\n\treturn {\r\n\t\ttype: TASKS_LOADING\r\n\t};\r\n};\r\n\r\n// Create Task\r\nexport const createTask = task => (dispatch, getState) => {\r\n\t// dispatch({ type: CLEAR_MESSAGES });\r\n\tdispatch({ type: TASK_CREATING });\r\n\r\n\ttasksAPI\r\n\t\t.addTask(task)\r\n\t\t.then(data => {\r\n\t\t\tif (data.status === 'ok') {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CREATE_TASK,\r\n\t\t\t\t\ttask: data.message\r\n\t\t\t\t});\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\taddMessage({ type: 'success', msg: 'Task was created successfully' })\r\n\t\t\t\t);\r\n\t\t\t\tdispatch({ type: TASK_CREATING });\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(data.message);\r\n\t\t\t\tdispatch(addMessage({ type: 'danger', msg: data.message }));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => console.warn(error, error.response));\r\n};\r\n\r\n// Edit Task\r\nexport const editTask = (token, task) => (dispatch, getState) => {\r\n\t// dispatch({ type: CLEAR_MESSAGES });\r\n\tdispatch({ type: TASK_EDITING });\r\n\r\n\ttasksAPI\r\n\t\t.editTask(task.id, {...task, token})\r\n\t\t.then(data => {\r\n\t\t\tif (data.status === 'ok') {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: EDIT_TASK,\r\n\t\t\t\t\ttask,\r\n\t\t\t\t\tid: task.id\r\n\t\t\t\t});\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\taddMessage({ type: 'success', msg: 'Task was updated successfully' })\r\n\t\t\t\t);\r\n\t\t\t\tdispatch({ type: TASK_EDITING });\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(data.message);\r\n\t\t\t\tdispatch(addMessage({ type: 'danger', msg: data.message }));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => console.warn(error, error.response));\r\n};\r\n\r\n// Sorting Task\r\nexport const setSort = (sort_field, sort_direction) => ({\r\n\ttype: SET_SORTING,\r\n\tsort_field,\r\n\tsort_direction\r\n});\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport s from './Paginator.module.css';\r\n\r\nfunction Paginator(props) {\r\n\tlet { itemsCount = 1, pageSize = 3, portionSize = 2, currentPage } = props;\r\n\r\n\tlet pagesCount = Math.ceil(itemsCount / pageSize);\r\n\tlet leftNumber = currentPage - portionSize;\r\n\tlet rightNumber = currentPage + portionSize;\r\n\r\n\tlet pages = Array(pagesCount)\r\n\t\t.fill()\r\n\t\t.map((v, i) => i + 1);\r\n\r\n\tlet paginationButtons = (\r\n\t\t<ul className={s.pagination}>\r\n\t\t\t<li>\r\n\t\t\t\t<Link hidden={!(currentPage > 1)} to={`/page/${currentPage - 1}`}>\r\n\t\t\t\t\t&laquo;\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t{pages\r\n\t\t\t\t.filter(p => p >= leftNumber && p <= rightNumber)\r\n\t\t\t\t.map(p => (\r\n\t\t\t\t\t<li key={p}>\r\n\t\t\t\t\t\t<Link to={`/page/${p}`} className={currentPage === p ? s.active : ''}>\r\n\t\t\t\t\t\t\t{p}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t<li>\r\n\t\t\t\t<Link hidden={currentPage >= pagesCount} to={`/page/${currentPage + 1}`}>\r\n\t\t\t\t\t&raquo;\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n\r\n\treturn pagesCount > 1 ? paginationButtons : '';\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport s from './TableView.module.css';\r\nimport { SORT_DIRECTION } from '../../store/actions/types';\r\n\r\nfunction TableView(props) {\r\n\tlet { tasks, sort_direction, setSort, isAuthenticated } = props;\r\n\tlet {\r\n\t\tpush,\r\n\t\tlocation: { pathname }\r\n\t} = useHistory();\r\n\r\n\tconst handleClickThead = e => {\r\n\t\tif (e.target.tagName === 'TH') {\r\n\t\t\tconst sortField = e.target.dataset.name;\r\n\t\t\tconst sortDirection =\r\n\t\t\t\tsort_direction === SORT_DIRECTION.asc\r\n\t\t\t\t\t? SORT_DIRECTION.desc\r\n\t\t\t\t\t: SORT_DIRECTION.asc;\r\n\t\t\tsetSort(\r\n\t\t\t\tsortField,\r\n\t\t\t\tsortDirection,\r\n\t\t\t\tsort_direction,\r\n\t\t\t\tsort_direction === SORT_DIRECTION.asc\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClickTR = task => {\r\n\t\tpush(`/edit/${task.id}`, { task: { ...task }, pathname });\r\n\t};\r\n\r\n\tlet taskItems = tasks.map(task => (\r\n\t\t<tr\r\n\t\ttitle={isAuthenticated ? 'double-click to edit task' : null}\r\n\t\t\tkey={task.id}\r\n\t\t\tclassName={`${isAuthenticated ? s.click : null} ${\r\n\t\t\t\ttask.status === 10 ? s.done : null\r\n\t\t\t}`}\r\n\t\t\tonDoubleClick={isAuthenticated ? () => handleClickTR(task) : null}\r\n\t\t>\r\n\t\t\t<td>{task.username}</td>\r\n\t\t\t<td>{task.text}</td>\r\n\t\t\t<td>{task.email}</td>\r\n\t\t\t<td>{task.status === 10 ? 'Done' : task.status}</td>\r\n\t\t</tr>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr onClick={handleClickThead}>\r\n\t\t\t\t\t<th data-name='username'>UserName</th>\r\n\t\t\t\t\t<th>Text</th>\r\n\t\t\t\t\t<th data-name='email'>Email</th>\r\n\t\t\t\t\t<th data-name='status'>Status</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>{taskItems}</tbody>\r\n\t\t</table>\r\n\t);\r\n}\r\n\r\nexport default TableView;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport s from './TasksList.module.css';\r\n\r\nimport { getTasks, setSort } from '../../store/actions/taskActions';\r\nimport Paginator from '../Paginator/Paginator';\r\nimport TableView from '../TableView/TableView';\r\n\r\nfunction TasksList(props) {\r\n  let { isAuthenticated, tasks, task_count, loadedTask } = props;\r\n  let { sorting: { sort_field, sort_direction } } = props;\r\n  let { match: { params: { page = 1 } } } = props;\r\n  let { getTasks, setSort } = props;\r\n\r\n  useEffect(() => {\r\n    getTasks(page, sort_field, sort_direction);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [page, sort_field, sort_direction]);\r\n\r\n  return (\r\n    <section id=\"tasks\" className={s.tasks}>\r\n      <h2>Tasks list</h2>\r\n      {loadedTask ? <h3>Task is loading</h3> : null}\r\n      <Paginator itemsCount={task_count} pageSize={3} currentPage={parseInt(page)} />\r\n      <TableView tasks={tasks}\r\n        setSort={setSort}\r\n        sort_direction={sort_direction}\r\n        isAuthenticated={isAuthenticated} />\r\n    </section>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { tasks, total_task_count: task_count, sorting, loadedTask } = { ...state.task };\r\n\treturn {\r\n    tasks,\r\n    task_count,\r\n    sorting,\r\n    loadedTask,\r\n    isAuthenticated: state.auth.isAuthenticated\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { getTasks, setSort })(TasksList);","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport s from './CreateTask.module.css';\r\nimport { createTask } from '../../store/actions/taskActions';\r\n\r\nfunction CreateTask(props) {\r\n\tlet { createdTask, createTask } = props;\r\n\tlet [data, setData] = useState({\r\n\t\tusername: '',\r\n\t\temail: '',\r\n\t\ttext: '',\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (createdTask) {\r\n\t\t\tsetData({ username: '', email: '', text: '' });\r\n\t\t}\r\n\t}, [createdTask]);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst target = event.target;\r\n\t\tif (target.checkValidity()) {\r\n\t\t\ttarget.classList.remove(s.invalid);\r\n\t\t} else {\r\n\t\t\ttarget.classList.add(s.invalid);\r\n\t\t}\r\n\r\n\t\tsetData({ ...data, [target.name]: target.value });\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tcreateTask(data);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section id='form-task' className={s.container} noValidate>\r\n\t\t\t<h2>Task create</h2>\r\n\r\n\t\t\t<form id='task' onSubmit={handleSubmit} noValidate>\r\n\t\t\t\t<label htmlFor='uname'>User Name</label>\r\n\t\t\t\t<input id='uname' placeholder='Your name..'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='username'\r\n\t\t\t\t\tvalue={data.username}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t<input id=\"email\" placeholder=\"Your email.. (name@site.com)\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tpattern=\"(-|\\w)+@(-|\\w)+\\.\\w+\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label htmlFor='text'>Text</label>\r\n\t\t\t\t<textarea id='text' placeholder='Write something..'\r\n\t\t\t\t\tname='text'\r\n\t\t\t\t\tvalue={data.text}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t<input type='submit' value='Save' />\r\n\t\t\t</form>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcreatedTask: state.task.createdTask,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { createTask })(\r\n\tCreateTask\r\n);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport s from './CreateEditTask.module.css';\r\n\r\nimport { editTask } from '../../store/actions/taskActions';\r\nimport { logOut } from '../../store/actions/authAction';\r\nimport { addMessage } from '../../store/actions/flashActions';\r\n\r\nfunction CreateEditTask(props) {\r\n\tlet { editedTask, isAuthenticated, editTask, logOut, addMessage } = props;\r\n\tlet {\r\n\t\tlocation: {\r\n\t\t\tstate: { task, pathname }\r\n\t\t}\r\n\t} = props;\r\n\tlet { history } = props;\r\n\r\n\tlet prevText = task.text.replace(' (edited by admin)', '');\r\n\tlet [data, setData] = useState({ ...task, text: prevText });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (editedTask) {\r\n\t\t\thistory.push(pathname);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [editedTask]);\r\n\r\n\tconst handleChange = event => {\r\n\t\tconst target = event.target;\r\n\t\tif (target.checkValidity()) {\r\n\t\t\ttarget.classList.remove(s.invalid);\r\n\t\t} else {\r\n\t\t\ttarget.classList.add(s.invalid);\r\n\t\t}\r\n\r\n\t\tsetData({ ...data, [target.name]: target.value });\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tlet token = localStorage.getItem('token');\r\n\t\tlet tokenExpire = Number(localStorage.getItem('tokenExpire'));\r\n\t\tif (token && tokenExpire) {\r\n\t\t\tif (Date.now() < tokenExpire) {\r\n\t\t\t\tdata.text =\r\n\t\t\t\t\tprevText === data.text ? data.text : `${data.text} (edited by admin)`;\r\n\t\t\t\teditTask(token, data);\r\n\t\t\t} else {\r\n\t\t\t\taddMessage({ type: 'warning', msg: 'For edit you need to log in' });\r\n\t\t\t\tlogOut();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\taddMessage({ type: 'warning', msg: 'For edit you need to log in' });\r\n\t\t\tlogOut();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section id='form-task' className={s.container}>\r\n\t\t\t<h2>Task edit</h2>\r\n\r\n\t\t\t<form id='task' onSubmit={handleSubmit}>\r\n\t\t\t\t<label htmlFor='uname'>User Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid='uname'\r\n\t\t\t\t\tplaceholder='Your name..'\r\n\t\t\t\t\treadOnly={isAuthenticated}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='username'\r\n\t\t\t\t\tvalue={data.username}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tplaceholder='Your email.. (name@site.com)'\r\n\t\t\t\t\treadOnly={isAuthenticated}\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tpattern='(-|\\w)+@(-|\\w)+\\.\\w+'\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{isAuthenticated && (\r\n\t\t\t\t\t<label htmlFor='status'>\r\n\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tid='status'\r\n\t\t\t\t\t\t\tname='status'\r\n\t\t\t\t\t\t\tvalue={data.status}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{Array.from({ length: 11 }, (v, i) => (\r\n\t\t\t\t\t\t\t\t<option key={i} value={i}>\r\n\t\t\t\t\t\t\t\t\t{i}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<label htmlFor='text'>Text</label>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tid='text'\r\n\t\t\t\t\tplaceholder='Write something..'\r\n\t\t\t\t\tname='text'\r\n\t\t\t\t\tvalue={data.text}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t<input type='submit' value='Save' />\r\n\t\t\t</form>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditedTask: state.task.editedTask,\r\n\t\tisAuthenticated: state.auth.isAuthenticated\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { editTask, logOut, addMessage })(\r\n\tCreateEditTask\r\n);\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './App.css';\r\n\r\nimport Header from './components/Header/Header';\r\nimport FlashMessages from './components/FlashMessages/FlashMessages';\r\nimport TasksList from './components/TasksList/TasksList';\r\nimport CreateTask from './components/CreateTask/CreateTask';\r\nimport CreateEditTask from './components/CreateEditTask/CreateEditTask';\r\n\r\nfunction App(props) {\r\n\tlet { isAuthenticated } = props;\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<Header />\r\n\t\t\t<FlashMessages />\r\n\t\t\t<main className='container shadow'>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path='/' exact component={TasksList} />\r\n\t\t\t\t\t<Route path='/page/:page' component={TasksList} />\r\n\t\t\t\t\t<Route path='/create' component={CreateTask} />\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath='/edit/:id'\r\n\t\t\t\t\t\trender={(props) => isAuthenticated\r\n\t\t\t\t\t\t\t? (<CreateEditTask {...props} />)\r\n\t\t\t\t\t\t\t: (\t<Redirect to='/' />\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Redirect path=\"*\" to='/' />\r\n\t\t\t\t</Switch>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tisAuthenticated: state.auth.isAuthenticated\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n// import { BrowserRouter as Router } from 'react-router-dom';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport store from './store/store';\r\nimport { LOGIN_SUCCESS, LOGOUT_SUCCESS } from './store/actions/types';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// Authentication on page reload\r\nlet token = localStorage.getItem('token');\r\nlet tokenExpire = Number(localStorage.getItem('tokenExpire'));\r\n\r\nif (token && tokenExpire) {\r\n\tif (Date.now() < tokenExpire) {\r\n\t\tstore.dispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\ttoken,\r\n\t\t\ttokenExpire\r\n\t\t});\r\n\t} else {\r\n\t\tstore.dispatch({ type: LOGOUT_SUCCESS });\r\n\t}\r\n}\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<Router basename='/'>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}